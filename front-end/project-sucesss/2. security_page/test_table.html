<!DOCTYPE html>
<html>

<head>
<style>
        table, th, td {
                border:1px solid black;
        }
        .modal {
                display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        }
        .modal-content {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: white;
        padding: 20px;
        }
</style>
</head>

<h2>Filter By:</h2>

<input type="text" id="codeFilter" placeholder="Filter by Incident Code">
<input type="date" id="dateFilter">
<input type="text" id="timeFilter" placeholder="Filter by Time">
<select id="categoryFilter">
    <option value="all">Category</option>
    <option value="property">Lost/Missing Property</option>
    <option value="assault">Assault</option>
</select>
<select id="statusFilter">
    <option value="all">Status</option>
    <option value="open">Open</option>
    <option value="investigating">Investigating</option>
</select>


<body>

<h2>Incidents Table</h2>

<button id="addReportButton">New Report</button>
<div id="modal" class="modal">
    <div id="modalContent" class="modal-content">
        <h2>Add New Report</h2>
        <form id="addReportForm">
                <label for="code">Incident Code:</label>
            <input type="text" id="code" required><br><br>
            <label for="date">Date:</label>
            <input type="date" id="date" required><br><br>
            <label for="time">Time:</label>
            <input type="text" id="time" required><br><br>
            <label for="description">Description:</label>
            <input type="text" id="description" required><br><br>
            <label for="category">Category:</label>
            <select id="category" required>
                <option>Lost/Missing Property</option>
                <option>Assault</option>
            </select><br><br>
            <label for="status">Status:</label>
            <select id="status" required>
                <option>Open</option>
                <option>Investigating</option>
            </select><br><br>
            <button type="submit">Add</button>
        </form>   
    </div>
</div>
        
<table id="dataTable">
    <thead>
        <tr>
            <th>Incident Code</th>
            <th>Date</th>
            <th>Time</th>
            <th>Description</th>
            <th>Category</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>1234</td>
            <td>2023-11-29</td>
            <td>10:00 AM</td>
            <td>Huawei phone reported missing</td>
            <td>Lost/Missing Property</td>
            <td>Open</td>
        </tr>
        <tr>
            <td>1233</td>
            <td>2023-03-05</td>
            <td>12:30 PM</td>
            <td>Pink waterbottle found</td>
            <td>Lost/Missing Property</td>
            <td>Investigating</td>
        </tr>
        <tr>
            <td>1232</td>
            <td>2023-02-16</td>
            <td>12:30 PM</td>
            <td>Green jacket reported missing</td>
            <td>Lost/Missing Property</td>
            <td>Open</td>
        </tr>
    </tbody>
</table>
            
<script>
                
        const addReportButton =
document.getElementById("addReportButton");
    const modal = document.getElementById("modal");
    const modalContent = document.getElementById("modalContent");
    const addReportForm = document.getElementById("addReportForm");
    const tableBody =
document.getElementById("dataTable").getElementsByTagName('tbody')[0];
            
    const codeFilter = document.getElementById("codeFilter");
    const dateFilter = document.getElementById("dateFilter");
    const timeFilter = document.getElementById("timeFilter");
    const categoryFilter = document.getElementById("categoryFilter");
    const statusFilter = document.getElementById("statusFilter");
    
    const table = document.getElementById("dataTable");
    const rows = table.getElementsByTagName("tr");
            
    addReportButton.addEventListener("click", () => {
        modal.style.display = "block";
    });
            
    addReportForm.addEventListener("submit", function (event) {
        event.preventDefault();
        const code = document.getElementById("code").value;
        const date = document.getElementById("date").value;
        const time = document.getElementById("time").value;
        const description = document.getElementById("description").value;
        const category = document.getElementById("category").value;
        const status = document.getElementById("status").value;
            
        const newRow = document.createElement("tr");
        newRow.innerHTML = `
            <td>${code}</td>
            <td>${date}</td>
            <td>${time}</td>   
            <td>${description}</td>
            <td>${category}</td>
            <td>${status}</td>
        `;
         tableBody.insertBefore(newRow, tableBody.firstChild);
        
        // Clear form values
        document.getElementById("code").value = "";
        document.getElementById("date").value = "";
        document.getElementById("time").value = "";
        document.getElementById("description").value = "";
        document.getElementById("category").value = "";
        document.getElementById("status").value = "";
    
        // Close the modal
        modal.style.display = "none";
    }); 
                
    statusFilter.addEventListener("input", filterTable);
    categoryFilter.addEventListener("input", filterTable);
    timeFilter.addEventListener("input", filterTable);
    codeFilter.addEventListener("input", filterTable);
    dateFilter.addEventListener("input", filterTable);
    
    function filterTable() {
        const codeFilterValue = codeFilter.value.toLowerCase();
        const dateFilterValue = dateFilter.value;
        const timeFilterValue = timeFilter.value.toLowerCase();
        const categoryFilterValue = categoryFilter.value.toLowerCase();
        const statusFilterValue = statusFilter.value.toLowerCase();  
    
        for (let i = 1; i < rows.length; i++) {
            const codeColumn = rows[i].getElementsByTagName("td")[0];
            const dateColumn = rows[i].getElementsByTagName("td")[1];
            const timeColumn = rows[i].getElementsByTagName("td")[2];
            const categoryColumn = rows[i].getElementsByTagName("td")[4];
            const statusColumn = rows[i].getElementsByTagName("td")[5];
       
            if (codeColumn && dateColumn && timeColumn && categoryColumn
&& statusColumn) {
                const codeText = codeColumn.textContent.toLowerCase();
                const dateText = dateColumn.textContent;   
                const timeText = timeColumn.textContent.toLowerCase();
                const categoryText =
categoryColumn.textContent.toLowerCase();
                const statusText = statusColumn.textContent.toLowerCase();
        
                const codeMatch = codeFilterValue === 'all' ||
codeText.includes(codeFilterValue);
                const dateMatch = dateFilterValue === '' ||
dateText === dateFilterValue;
                const timeMatch = timeFilterValue === 'all' ||
timeText.includes(timeFilterValue);
                const categoryMatch = categoryFilterValue === 'all' ||
categoryText.includes(categoryFilterValue);
                const statusMatch = statusFilterValue === 'all' ||
statusText.includes(statusFilterValue);
         
                if (codeMatch && dateMatch && timeMatch && categoryMatch
&& statusMatch) {
                    rows[i].style.display = "";
                } else {
                    rows[i].style.display = "none";
                }
            }
        }
    }
</script>
</body>
</html> 
